<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'">
    <title>CSP - default-src 'self' ãƒ†ã‚¹ãƒˆ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .status-box {
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            background-color: #fff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .error {
            background-color: #ffebee;
            border-left: 4px solid #f44336;
        }
        .success {
            background-color: #e8f5e9;
            border-left: 4px solid #4CAF50;
        }
        code {
            background-color: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        .csp-policy-code {
            background-color: #fff3cd;
            border: 2px solid #ff9800;
            padding: 10px 15px;
            border-radius: 5px;
            display: block;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
        }
        .back-link {
            display: inline-block;
            margin-top: 20px;
            color: #2196F3;
            text-decoration: none;
        }
        .back-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <h1>ğŸ”’ default-src 'self' ãƒ†ã‚¹ãƒˆ</h1>

    <div class="status-box">
        <h2>CSPãƒãƒªã‚·ãƒ¼</h2>
        <code class="csp-policy-code">Content-Security-Policy: default-src 'self'</code>
        <p style="margin-top: 10px;">
            ã“ã®ãƒšãƒ¼ã‚¸ã§ã¯åŒä¸€ã‚ªãƒªã‚¸ãƒ³ï¼ˆ'self'ï¼‰ã‹ã‚‰ã®ãƒªã‚½ãƒ¼ã‚¹ã®ã¿è¨±å¯ã•ã‚Œã¾ã™ã€‚<br>
            ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ã¯<strong>ãƒ–ãƒ­ãƒƒã‚¯</strong>ã•ã‚Œã¾ã™ã€‚
        </p>
    </div>

    <div class="status-box error">
        <h3>ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ã®ãƒ†ã‚¹ãƒˆ</h3>
        <p style="color: red; font-weight: bold;">
            ã“ã®ãƒ†ã‚­ã‚¹ãƒˆã¯èµ¤è‰²ã§å¤ªå­—ã«ãªã‚‹ã¯ãšã§ã™ãŒã€ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³styleå±æ€§ãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ã¾ã™ã€‚
        </p>
    </div>

    <div id="script-result" class="status-box error">
        <h3>ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ†ã‚¹ãƒˆ</h3>
        <p>âŒ ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ</p>
        <p>ã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹å ´åˆã€CSPãŒæ­£ã—ãæ©Ÿèƒ½ã—ã¦ã„ã¾ã™ã€‚</p>
    </div>

    <div class="status-box">
        <h3>è¨±å¯ã•ã‚Œã‚‹ã‚‚ã®</h3>
        <ul>
            <li>åŒä¸€ã‚ªãƒªã‚¸ãƒ³ã®å¤–éƒ¨ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ</li>
            <li>åŒä¸€ã‚ªãƒªã‚¸ãƒ³ã®å¤–éƒ¨JavaScript</li>
            <li>åŒä¸€ã‚ªãƒªã‚¸ãƒ³ã®ç”»åƒãƒ»ãƒ•ã‚©ãƒ³ãƒˆ</li>
            <li>headå†…ã®&lt;style&gt;ã‚¿ã‚°ï¼ˆã“ã®ãƒšãƒ¼ã‚¸ã§ä½¿ç”¨ä¸­ï¼‰</li>
        </ul>
    </div>

    <div class="status-box">
        <h3>ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚‹ã‚‚ã®</h3>
        <ul>
            <li>ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆ&lt;script&gt;ã‚¿ã‚°å†…ã®ã‚³ãƒ¼ãƒ‰ï¼‰</li>
            <li>ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ï¼ˆonclickç­‰ï¼‰</li>
            <li>ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³styleå±æ€§</li>
            <li>å¤–éƒ¨ãƒ‰ãƒ¡ã‚¤ãƒ³ã‹ã‚‰ã®ãƒªã‚½ãƒ¼ã‚¹</li>
        </ul>
    </div>

    <div class="status-box">
        <h3>ç¢ºèªæ–¹æ³•</h3>
        <ol>
            <li>ãƒ–ãƒ©ã‚¦ã‚¶ã®é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’é–‹ãï¼ˆF12ã‚­ãƒ¼ï¼‰</li>
            <li>Consoleã‚¿ãƒ–ã‚’ç¢ºèª</li>
            <li>CSPé•åã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª</li>
        </ol>
        <p>
            <strong>æœŸå¾…ã•ã‚Œã‚‹ã‚¨ãƒ©ãƒ¼:</strong><br>
            <code>Refused to execute inline script because it violates the following Content Security Policy directive: "default-src 'self'"...</code>
        </p>
    </div>

    <a href="index.html" class="back-link">â† ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹</a>

    <!-- ã“ã®ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚‹ -->
    <script>
        console.log('ã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ï¼ˆCSPã«ã‚ˆã£ã¦ãƒ–ãƒ­ãƒƒã‚¯ï¼‰');
        document.getElementById('script-result').className = 'status-box success';
        document.getElementById('script-result').innerHTML =
            '<h3>ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ†ã‚¹ãƒˆ</h3>' +
            '<p>âœ… ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã—ãŸ</p>' +
            '<p>CSPãŒæ©Ÿèƒ½ã—ã¦ã„ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</p>';
    </script>

    <!-- ã“ã®ãƒœã‚¿ãƒ³ã®onclickã‚‚ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚‹ -->
    <div class="status-box" style="margin-top: 20px;">
        <button onclick="alert('ã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ')">
            ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ†ã‚¹ãƒˆï¼ˆã“ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã¯ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¾ã™ï¼‰
        </button>
        <p style="margin-top: 10px; font-size: 14px;">
            ã“ã®ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚‚ä½•ã‚‚èµ·ã“ã‚Šã¾ã›ã‚“ï¼ˆonclickãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ã¾ã™ï¼‰
        </p>
    </div>
</body>
</html>
