<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'">
    <title>CSP Builder - URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§CSPè¨­å®š</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #4CAF50;
            padding-bottom: 10px;
        }
        .container {
            background-color: #fff;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin: 20px 0;
        }
        .directive-group {
            margin: 15px 0;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 5px;
            border-left: 4px solid #2196F3;
        }
        .directive-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
            color: #333;
        }
        .directive-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
        .directive-group .hint {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }
        .result-box {
            background-color: #fff3cd;
            border: 2px solid #ff9800;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .result-box h3 {
            margin-top: 0;
        }
        .policy-output {
            background-color: #fff;
            padding: 15px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            word-break: break-all;
            border: 1px solid #ddd;
            margin: 10px 0;
        }
        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        button {
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }
        .btn-primary {
            background-color: #4CAF50;
            color: white;
        }
        .btn-primary:hover {
            background-color: #45a049;
        }
        .btn-secondary {
            background-color: #2196F3;
            color: white;
        }
        .btn-secondary:hover {
            background-color: #0b7dda;
        }
        .btn-copy {
            background-color: #ff9800;
            color: white;
        }
        .btn-copy:hover {
            background-color: #e68900;
        }
        .presets {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin: 15px 0;
        }
        .preset-btn {
            padding: 8px 16px;
            background-color: #e0e0e0;
            border: 1px solid #ccc;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
        }
        .preset-btn:hover {
            background-color: #d0d0d0;
        }
        .info-box {
            background-color: #e3f2fd;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        .back-link {
            display: inline-block;
            margin-top: 20px;
            color: #2196F3;
            text-decoration: none;
        }
        .back-link:hover {
            text-decoration: underline;
        }
        .common-values {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 8px;
        }
        .value-chip {
            padding: 4px 10px;
            background-color: #e0e0e0;
            border-radius: 3px;
            font-size: 12px;
            cursor: pointer;
            font-family: 'Courier New', monospace;
        }
        .value-chip:hover {
            background-color: #d0d0d0;
        }
    </style>
</head>
<body>
    <h1>ğŸ”§ CSP Builder - URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§CSPè¨­å®š</h1>

    <div class="info-box">
        <strong>ğŸ“‹ ä½¿ã„æ–¹ï¼š</strong>
        <p style="margin: 8px 0 0 0;">
            å„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã®å€¤ã‚’å…¥åŠ›ã—ã¦ã€ŒURLã‚’ç”Ÿæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€è¨­å®šã‚’åæ˜ ã—ãŸURLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚
            ã€Œãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ã‚’é–‹ãã€ã§ã€ãã®CSPè¨­å®šã‚’é©ç”¨ã—ãŸãƒšãƒ¼ã‚¸ã‚’æ–°ã—ã„ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§é–‹ãã¾ã™ã€‚
        </p>
    </div>

    <div class="container">
        <h2>ãƒ—ãƒªã‚»ãƒƒãƒˆ</h2>
        <div class="presets">
            <button class="preset-btn" onclick="loadPreset('strict')">ğŸ”’ Strict (default-src 'none')</button>
            <button class="preset-btn" onclick="loadPreset('self')">ğŸ  Self Only</button>
            <button class="preset-btn" onclick="loadPreset('development')">ğŸ› ï¸ Development (unsafe-inline)</button>
            <button class="preset-btn" onclick="loadPreset('cdn')">ğŸŒ CDN Allowed</button>
        </div>
    </div>

    <div class="container">
        <h2>CSP ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–è¨­å®š</h2>
        <p style="color: #666; font-size: 14px;">å€¤ã¯ã‚¹ãƒšãƒ¼ã‚¹åŒºåˆ‡ã‚Šã§å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆä¾‹: 'self' 'unsafe-inline' https://cdn.example.comï¼‰</p>

        <div class="directive-group">
            <label for="default-src">default-src</label>
            <input type="text" id="default-src" placeholder="ä¾‹: 'self'" />
            <div class="hint">ã™ã¹ã¦ã®ãƒªã‚½ãƒ¼ã‚¹ã‚¿ã‚¤ãƒ—ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š</div>
            <div class="common-values">
                <span class="value-chip" onclick="addValue('default-src', \"'none'\")">none</span>
                <span class="value-chip" onclick="addValue('default-src', \"'self'\")">self</span>
            </div>
        </div>

        <div class="directive-group">
            <label for="script-src">script-src</label>
            <input type="text" id="script-src" placeholder="ä¾‹: 'self' 'unsafe-inline'" />
            <div class="hint">JavaScriptã®èª­ã¿è¾¼ã¿å…ƒã‚’åˆ¶å¾¡</div>
            <div class="common-values">
                <span class="value-chip" onclick="addValue('script-src', \"'self'\")">self</span>
                <span class="value-chip" onclick="addValue('script-src', \"'unsafe-inline'\")">unsafe-inline</span>
                <span class="value-chip" onclick="addValue('script-src', \"'unsafe-eval'\")">unsafe-eval</span>
            </div>
        </div>

        <div class="directive-group">
            <label for="style-src">style-src</label>
            <input type="text" id="style-src" placeholder="ä¾‹: 'self' 'unsafe-inline'" />
            <div class="hint">CSSã®èª­ã¿è¾¼ã¿å…ƒã‚’åˆ¶å¾¡</div>
            <div class="common-values">
                <span class="value-chip" onclick="addValue('style-src', \"'self'\")">self</span>
                <span class="value-chip" onclick="addValue('style-src', \"'unsafe-inline'\")">unsafe-inline</span>
            </div>
        </div>

        <div class="directive-group">
            <label for="img-src">img-src</label>
            <input type="text" id="img-src" placeholder="ä¾‹: 'self' data: https:" />
            <div class="hint">ç”»åƒã®èª­ã¿è¾¼ã¿å…ƒã‚’åˆ¶å¾¡</div>
            <div class="common-values">
                <span class="value-chip" onclick="addValue('img-src', \"'self'\")">self</span>
                <span class="value-chip" onclick="addValue('img-src', 'data:')">data:</span>
                <span class="value-chip" onclick="addValue('img-src', 'https:')">https:</span>
            </div>
        </div>

        <div class="directive-group">
            <label for="font-src">font-src</label>
            <input type="text" id="font-src" placeholder="ä¾‹: 'self' https://fonts.gstatic.com" />
            <div class="hint">ãƒ•ã‚©ãƒ³ãƒˆã®èª­ã¿è¾¼ã¿å…ƒã‚’åˆ¶å¾¡</div>
            <div class="common-values">
                <span class="value-chip" onclick="addValue('font-src', \"'self'\")">self</span>
                <span class="value-chip" onclick="addValue('font-src', 'data:')">data:</span>
            </div>
        </div>

        <div class="directive-group">
            <label for="connect-src">connect-src</label>
            <input type="text" id="connect-src" placeholder="ä¾‹: 'self' https://api.example.com" />
            <div class="hint">fetch, XHR, WebSocketã®æ¥ç¶šå…ˆã‚’åˆ¶å¾¡</div>
            <div class="common-values">
                <span class="value-chip" onclick="addValue('connect-src', \"'self'\")">self</span>
            </div>
        </div>

        <div class="directive-group">
            <label for="frame-src">frame-src</label>
            <input type="text" id="frame-src" placeholder="ä¾‹: 'self' https://www.youtube.com" />
            <div class="hint">iframe ã®èª­ã¿è¾¼ã¿å…ƒã‚’åˆ¶å¾¡</div>
            <div class="common-values">
                <span class="value-chip" onclick="addValue('frame-src', \"'self'\")">self</span>
                <span class="value-chip" onclick="addValue('frame-src', \"'none'\")">none</span>
            </div>
        </div>

        <div class="directive-group">
            <label for="object-src">object-src</label>
            <input type="text" id="object-src" placeholder="ä¾‹: 'none'" />
            <div class="hint">&lt;object&gt;, &lt;embed&gt;, &lt;applet&gt; ã®åˆ¶å¾¡ï¼ˆé€šå¸¸ã¯ 'none' æ¨å¥¨ï¼‰</div>
            <div class="common-values">
                <span class="value-chip" onclick="addValue('object-src', \"'none'\")">none</span>
            </div>
        </div>
    </div>

    <div class="result-box">
        <h3>ğŸ” ç”Ÿæˆã•ã‚ŒãŸCSPãƒãƒªã‚·ãƒ¼</h3>
        <div class="policy-output" id="policy-output">ï¼ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼‰</div>
        <div class="button-group">
            <button class="btn-primary" onclick="updateURL()">ğŸ“ URLã‚’ç”Ÿæˆ</button>
            <button class="btn-secondary" onclick="openTestPage()">ğŸš€ ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ã‚’é–‹ã</button>
            <button class="btn-copy" onclick="copyPolicy()">ğŸ“‹ ãƒãƒªã‚·ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼</button>
        </div>
        <div id="generated-url" style="margin-top: 15px; font-size: 13px; color: #666;"></div>
    </div>

    <a href="index.html" class="back-link">â† ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹</a>

    <script>
        const directives = [
            'default-src', 'script-src', 'style-src', 'img-src',
            'font-src', 'connect-src', 'frame-src', 'object-src'
        ];

        const presets = {
            strict: {
                'default-src': "'none'",
                'script-src': '',
                'style-src': '',
                'img-src': '',
                'font-src': '',
                'connect-src': '',
                'frame-src': '',
                'object-src': "'none'"
            },
            self: {
                'default-src': "'self'",
                'script-src': '',
                'style-src': '',
                'img-src': '',
                'font-src': '',
                'connect-src': '',
                'frame-src': '',
                'object-src': "'none'"
            },
            development: {
                'default-src': "'self'",
                'script-src': "'self' 'unsafe-inline' 'unsafe-eval'",
                'style-src': "'self' 'unsafe-inline'",
                'img-src': "'self' data: https:",
                'font-src': "'self' data:",
                'connect-src': "'self'",
                'frame-src': "'self'",
                'object-src': "'none'"
            },
            cdn: {
                'default-src': "'self'",
                'script-src': "'self' https://cdn.jsdelivr.net",
                'style-src': "'self' https://fonts.googleapis.com",
                'img-src': "'self' data: https:",
                'font-src': "'self' https://fonts.gstatic.com",
                'connect-src': "'self'",
                'frame-src': "'self'",
                'object-src': "'none'"
            }
        };

        // URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰è¨­å®šã‚’èª­ã¿è¾¼ã‚€
        function loadFromURL() {
            const params = new URLSearchParams(window.location.search);
            directives.forEach(directive => {
                const value = params.get(directive);
                if (value) {
                    document.getElementById(directive).value = value;
                }
            });
            generatePolicy();
        }

        // ãƒ—ãƒªã‚»ãƒƒãƒˆã‚’èª­ã¿è¾¼ã‚€
        function loadPreset(presetName) {
            const preset = presets[presetName];
            directives.forEach(directive => {
                document.getElementById(directive).value = preset[directive] || '';
            });
            generatePolicy();
        }

        // å€¤ã‚’è¿½åŠ ï¼ˆæ—¢å­˜ã®å€¤ã«è¿½åŠ ï¼‰
        function addValue(directive, value) {
            const input = document.getElementById(directive);
            const current = input.value.trim();
            if (current && !current.split(/\s+/).includes(value)) {
                input.value = current + ' ' + value;
            } else if (!current) {
                input.value = value;
            }
            generatePolicy();
        }

        // CSPãƒãƒªã‚·ãƒ¼ã‚’ç”Ÿæˆ
        function generatePolicy() {
            const parts = [];
            directives.forEach(directive => {
                const value = document.getElementById(directive).value.trim();
                if (value) {
                    parts.push(`${directive} ${value}`);
                }
            });

            const policy = parts.join('; ');
            document.getElementById('policy-output').textContent =
                policy || 'ï¼ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼‰';
            return policy;
        }

        // URLã‚’ç”Ÿæˆãƒ»æ›´æ–°
        function updateURL() {
            const params = new URLSearchParams();
            directives.forEach(directive => {
                const value = document.getElementById(directive).value.trim();
                if (value) {
                    params.set(directive, value);
                }
            });

            const newURL = window.location.pathname + '?' + params.toString();
            window.history.pushState({}, '', newURL);

            const fullURL = window.location.origin + newURL;
            document.getElementById('generated-url').innerHTML =
                `<strong>ç”Ÿæˆã•ã‚ŒãŸURL:</strong><br><code style="background: #fff; padding: 5px; display: block; margin-top: 5px; word-break: break-all;">${fullURL}</code>`;

            alert('URLãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸï¼ã“ã®URLã‚’ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã—ã¦å†åˆ©ç”¨ã§ãã¾ã™ã€‚');
        }

        // ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ã‚’é–‹ã
        function openTestPage() {
            const policy = generatePolicy();
            if (!policy) {
                alert('å°‘ãªãã¨ã‚‚1ã¤ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’è¨­å®šã—ã¦ãã ã•ã„');
                return;
            }

            // ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ã®HTMLã‚’ç”Ÿæˆ
            const testHTML = `<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="${policy}">
    <title>CSP Test Page</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .policy-box {
            background-color: #fff3cd;
            border: 2px solid #ff9800;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .test-section {
            background-color: #fff;
            padding: 20px;
            margin: 15px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .success { border-left: 4px solid #4CAF50; }
        .error { border-left: 4px solid #f44336; }
    </style>
</head>
<body>
    <h1>ğŸ”’ CSP Test Page</h1>

    <div class="policy-box">
        <h3>é©ç”¨ã•ã‚ŒãŸCSPãƒãƒªã‚·ãƒ¼</h3>
        <code style="display: block; word-break: break-all;">${policy}</code>
    </div>

    <div class="test-section success">
        <h3>âœ… ã“ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹å ´åˆ</h3>
        <p>&lt;style&gt;ã‚¿ã‚°ã®CSSãŒè¨±å¯ã•ã‚Œã¦ã„ã¾ã™</p>
    </div>

    <div class="test-section error" id="inline-style-test" style="color: red; font-weight: bold;">
        <h3>ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³styleå±æ€§ã®ãƒ†ã‚¹ãƒˆ</h3>
        <p>ã“ã®ãƒ†ã‚­ã‚¹ãƒˆãŒèµ¤è‰²ãƒ»å¤ªå­—ã®å ´åˆã€ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ãŒè¨±å¯ã•ã‚Œã¦ã„ã¾ã™</p>
    </div>

    <div class="test-section" id="inline-script-test">
        <h3>âŒ ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ†ã‚¹ãƒˆ</h3>
        <p>ã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹å ´åˆã€ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ã¾ã™</p>
    </div>

    <div class="test-section">
        <h3>ğŸ” ç¢ºèªæ–¹æ³•</h3>
        <ol>
            <li>ãƒ–ãƒ©ã‚¦ã‚¶ã®é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ï¼ˆF12ï¼‰ã‚’é–‹ã</li>
            <li>Consoleã‚¿ãƒ–ã‚’ç¢ºèª</li>
            <li>CSPé•åã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª</li>
        </ol>
    </div>

    <!-- ã“ã®ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ -->
    <script>
        console.log('ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã—ãŸ');
        document.getElementById('inline-script-test').className = 'test-section success';
        document.getElementById('inline-script-test').innerHTML =
            '<h3>âœ… ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ†ã‚¹ãƒˆ</h3>' +
            '<p>ã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹å ´åˆã€ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒè¨±å¯ã•ã‚Œã¦ã„ã¾ã™</p>';
    </script>

    <!-- ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã®ãƒ†ã‚¹ãƒˆ -->
    <div class="test-section">
        <h3>ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã®ãƒ†ã‚¹ãƒˆ</h3>
        <button onclick="alert('ã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ')">ã‚¯ãƒªãƒƒã‚¯ãƒ†ã‚¹ãƒˆ</button>
        <p style="font-size: 13px; color: #666;">ã‚¢ãƒ©ãƒ¼ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹å ´åˆã€ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãŒè¨±å¯ã•ã‚Œã¦ã„ã¾ã™</p>
    </div>
</body>
</html>`;

            // Blob URLã‚’ä½œæˆã—ã¦æ–°ã—ã„ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§é–‹ã
            const blob = new Blob([testHTML], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            window.open(url, '_blank');

            // ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã‚’é˜²ããŸã‚ã€å°‘ã—å¾…ã£ã¦ã‹ã‚‰URLã‚’è§£æ”¾
            setTimeout(() => URL.revokeObjectURL(url), 1000);
        }

        // ãƒãƒªã‚·ãƒ¼ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
        function copyPolicy() {
            const policy = generatePolicy();
            if (!policy) {
                alert('ã‚³ãƒ”ãƒ¼ã™ã‚‹ãƒãƒªã‚·ãƒ¼ãŒã‚ã‚Šã¾ã›ã‚“');
                return;
            }

            navigator.clipboard.writeText(policy).then(() => {
                alert('CSPãƒãƒªã‚·ãƒ¼ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼');
            }).catch(err => {
                console.error('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ:', err);
                alert('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ');
            });
        }

        // å…¥åŠ›æ™‚ã«ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ãƒãƒªã‚·ãƒ¼ã‚’æ›´æ–°
        directives.forEach(directive => {
            document.getElementById(directive).addEventListener('input', generatePolicy);
        });

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰è¨­å®šã‚’èª­ã¿è¾¼ã‚€
        window.addEventListener('load', loadFromURL);
    </script>
</body>
</html>
