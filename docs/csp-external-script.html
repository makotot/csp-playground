<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'">
    <title>CSP - å¤–éƒ¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ†ã‚¹ãƒˆ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .status-box {
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            background-color: #fff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .error {
            background-color: #ffebee;
            border-left: 4px solid #f44336;
        }
        .success {
            background-color: #e8f5e9;
            border-left: 4px solid #4CAF50;
        }
        code {
            background-color: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        .back-link {
            display: inline-block;
            margin-top: 20px;
            color: #2196F3;
            text-decoration: none;
        }
        .back-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <h1>ğŸ”’ å¤–éƒ¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ†ã‚¹ãƒˆ</h1>

    <div class="status-box">
        <h2>CSPãƒãƒªã‚·ãƒ¼</h2>
        <code>Content-Security-Policy: default-src 'self'; script-src 'self' 'unsafe-inline'</code>
        <p style="margin-top: 10px;">
            ã“ã®ãƒšãƒ¼ã‚¸ã§ã¯å¤–éƒ¨ãƒ‰ãƒ¡ã‚¤ãƒ³ã‹ã‚‰ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆèª­ã¿è¾¼ã¿ãŒ<strong>ãƒ–ãƒ­ãƒƒã‚¯</strong>ã•ã‚Œã¾ã™ã€‚<br>
            ï¼ˆã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯è¨±å¯ã•ã‚Œã¦ã„ã¾ã™ï¼‰
        </p>
    </div>

    <div id="result" class="status-box error">
        <h3>çµæœ</h3>
        <p>âŒ å¤–éƒ¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®èª­ã¿è¾¼ã¿ãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ</p>
        <p>ã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹å ´åˆã€CSPãŒæ­£ã—ãæ©Ÿèƒ½ã—ã¦ã„ã¾ã™ã€‚</p>
    </div>

    <div class="status-box">
        <h3>ç¢ºèªæ–¹æ³•</h3>
        <ol>
            <li>ãƒ–ãƒ©ã‚¦ã‚¶ã®é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’é–‹ãï¼ˆF12ã‚­ãƒ¼ï¼‰</li>
            <li>Consoleã‚¿ãƒ–ã‚’ç¢ºèª</li>
            <li>CSPé•åã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª</li>
        </ol>
        <p>
            <strong>æœŸå¾…ã•ã‚Œã‚‹ã‚¨ãƒ©ãƒ¼:</strong><br>
            <code>Refused to load the script 'https://cdn.jsdelivr.net/...' because it violates the following Content Security Policy directive...</code>
        </p>
    </div>

    <a href="index.html" class="back-link">â† ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹</a>

    <!-- ã“ã®ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯å®Ÿè¡Œã•ã‚Œã‚‹ï¼ˆ'unsafe-inline'ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ãŸã‚ï¼‰ -->
    <script>
        console.log('ãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚Œã¾ã—ãŸ');
    </script>

    <!-- ã“ã®å¤–éƒ¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯CSPã«ã‚ˆã£ã¦ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚‹ -->
    <script src="https://cdn.jsdelivr.net/npm/vue@3.3.4/dist/vue.global.js"></script>
    <script>
        // ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯å¤–éƒ¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®èª­ã¿è¾¼ã¿ã«ä¾å­˜ã™ã‚‹ãŸã‚å®Ÿè¡Œã•ã‚Œã¾ã›ã‚“
        if (typeof Vue !== 'undefined') {
            document.getElementById('result').className = 'status-box success';
            document.getElementById('result').innerHTML = '<h3>çµæœ</h3><p>âœ… å¤–éƒ¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒèª­ã¿è¾¼ã¾ã‚Œã¾ã—ãŸ</p><p>CSPãŒæ©Ÿèƒ½ã—ã¦ã„ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</p>';
        }
    </script>
</body>
</html>
